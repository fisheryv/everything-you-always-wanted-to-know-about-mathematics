% !TeX root = ../../../book.tex

\subsection{定义}

我们采用如下定义。它可能与你的定义相近或相同，也可能只是表述略有差异。这个定义精准地捕捉了前文对函数的直观理解（将函数视为一种分配\emph{规则}），并用集合论与逻辑语言严谨表达。此定义的优势在于：

\begin{enumerate}[label=(\alph*)]
    \item 为函数奠定严格的数学基础，确保其在数学中正确可靠；
    \item 能够讨论函数性质，并运用数学术语和概念进行证明；
    \item 能够推广函数概念，使其适用于比标准数集更抽象的语境。
\end{enumerate}
下面正式给出定义：

\begin{definition}
    设 $A, B$ 为集合，$f$ 为 $A, B$ 间的关系，即 $f \subseteq A \times B$。若 $f$ 满足：
    \[\forall a \in A \centerdot \exists! b \in B \centerdot (a, b) \in f\]
    （回想一下，``$\exists!$'' 表示``唯一存在……''，即``有且只有一个……''）

    则称 $f$ 为 $A$ 到 $B$ 的\dotuline{函数}。记作
    \[f:A \to B\]
    其中，$A$ 为函数的\dotuline{定义域}，$B$ 为函数的\dotuline{值域}，$f$ 是 $A$ 到 $B$ 的函数。

    若 $(a,b) \in f$，则记作
    \[f(a) = b\]
    表示对于给定的 $a$，$b$ 是唯一满足该关系的元素。
\end{definition}

尽管将\emph{函数}视为一种\emph{关系}——实质上是一种特殊的\emph{集合}——可能略显抽象，但这正是其本质。此定义使我们能用集合语言讨论函数，同时保留了熟悉的符号。对每个``输入'' $a$（定义域中的元素），存在\emph{唯一}一个``输出'' $b$（值域中的元素），因此可写作 $f(a) = b$。此处的 ``$=$'' 表示严格相等，因为仅有唯一一个 $b$ 满足此关系。

此定义也蕴含了关键思想：需要明确函数``输出''的\emph{类型}，这通过指定值域实现。例如，若定义函数 $f : \mathbb{R} \to \mathbb{R}$ 为 $f(x) = \sqrt{x}$ 是不恰当的，因为定义域中负数会使``输出''未定义（技术上讲，输出会是一个复数，而复数不是值域 $\mathbb{R}$ 中的元素；在实数语境下复数``未定义''）。当函数定义正确，且定义域和值域明确满足笛卡尔积条件时，称这个函数是\textbf{良好定义的}。有时我们会给出两个集合之间的关系，并要求你判断它是否是\emph{良好定义的函数}，实际上，这就是在问此关系是否符合函数的定义。

\subsubsection*{范围}

\emph{值域}一词对你来说可能比较陌生。实际上，你可能更习惯用\textbf{范围}来指代函数的\emph{潜在}``输出''集合。但为了避免歧义，本书将完全避免使用``范围''一词。有些文献作者或老师会用``范围''指代我们这里所说的``值域''，即函数的\emph{潜在}``输出''集合；而另一些人则用它来指代本书中所说的``像''，即函数的\emph{实际}``输出''集合（详见 \ref{sec:section7.3} 节）。通常，``像''是值域的子集，且通常为\emph{真}子集。因此使用``范围''一词容易产生误解。为了避免混淆，本书将只使用\emph{值域 (codomain) }和\emph{像 (image) }这两个术语。