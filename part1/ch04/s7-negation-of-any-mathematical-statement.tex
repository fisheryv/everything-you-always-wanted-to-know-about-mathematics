% !TeX root = ../../book.tex
\section{数学陈述的否定}\label{sec:section4.7}

我们已经看到过如何否定量化陈述。有了德摩根定律，我们现在知道如何否定 $\land$ 和 $\lor$ 陈述。那么剩下的就只有条件陈述了！

\subsection{否定条件陈述}

考虑 $P \implies Q$ 形式的声明。它表示只要 $P$ 为真，$Q$ 也为真。我们如何否定这样的陈述呢？逻辑否定究竟意味着什么？回想一下我们如何将 ``$\implies$'' 定义为逻辑连词。在哪些情况下我们可以认定条件陈述的声明者为骗子。在这些情况下，我们可以说逻辑否定为\verb|真|。唯一的情况是假设 $P$ 为\verb|真|但结论 $Q$ 为\verb|假|。

为了证明这种等价关系，我们需要用到 $P \implies Q$ 写成 ``$\lor$'' 陈述的方法：
\[(P \implies Q) \iff (\neg P \lor Q)\]
这将有助于我们证明以下主张。

\begin{lemma}
    条件陈述的逻辑否定由下式给出
    \[\neg (P \implies Q) \iff P \land \neg Q\]
\end{lemma}

\begin{proof}
    \begin{align*}
        \neg (P \implies Q) &\iff \neg (\neg P \lor Q) &\quad \text{已经证明的逻辑等价} \\
        &\iff \neg (\neg P) \land \neg Q &\quad \text{德摩根逻辑定律} \\
        &\iff P \land \neg Q &\quad \text{因为} \neg (\neg P) \iff P
    \end{align*}
\end{proof}

这具有直观意义：为了证明条件主张为\verb|假|，我们需要找到假设成立但结论不成立的情况。

尽管存在教坏小孩子的风险，但我们还是要指出一些逻辑上\textbf{不}等价于 $\neg (P \implies Q)$ 的陈述。这些是我们看到学生经常犯的错误。让我们检视一下它们，看看为什么它们实际上不正确的。对于它们中的每一个，请记住，我们希望保证逻辑否定 $\neg (P \implies Q)$ 具有与原始陈述 $P \implies Q$ \emph{完全相反的真值}。在每种情况下，我们都可以看到这种关系不成立。

\begin{itemize}
    \item \textcolor{red}{$\neg P \implies Q$} \\
        该条件陈述与原始陈述 $P \implies Q$ 没有逻辑联系。请记住，陈述 $P \implies Q$ \emph{并未声明}在 $P$ 为\verb|假|的情况下 $Q$ 是否为\verb|真|。（不如``如果下雨，那么我就带伞''这个例子。如果不下雨，谁知道我带的是什么！）为什么我们要期望 $Q$ 像陈述中说的那样，在 $P$ 不成立的情况下\emph{一定为}\verb|真|？
    \item \textcolor{red}{$P \implies \neg Q$} \\
        同理，这个条件陈述与原始陈述没有逻辑联系。还是雨伞的例子。这个陈述说的是``如果下雨，那么我就\textbf{不}带伞。'' 这是否意味着最初的声明是错误的？当然不是！
    \item \textcolor{red}{$P \notimplies Q$} \\
        这种情况就比较微妙了。数学家会将 ``$P \notimplies Q$'' 解读为 ``$P$ \emph{不一定}意味着 $Q$''。也就是说，存在 $P \implies Q$ 为真的情况，也存在 $P \implies Q$ 为假的情况；具体是哪种情况取决于 $P$ 和 $Q$ 各自的陈述是什么。根据具体情况，这个主张有不同的含义，但严格来说，这并不是对原始声明的\textbf{逻辑否定}。\\
        \newline
        特别是，当我们尝试对该陈述进行逻辑否定时，我们会遇到问题。``$P$ 并非不一定意味着 $Q$'' 这句话是什么意思？这是否意味着存在 $P$ 不意味着 $Q$ 的情况，但也存在 $P$ 意味着 $Q$ 的情况？这听起来非常像声明 $P \notimplies Q$ 本身…… \\
        \newline
        出于这些原因，我们希望避免使用 $\notimplies$ 这种表示法。它在数学上确实存在某种意义，但在符号逻辑意义上并没有真正明确的定义。无论如何，它绝对不是 $\implies$ 的逻辑否定。
\end{itemize}
现在我们已经解决了这些常见错误，让我们强调一下 $P \implies Q$ 的正确否定。我们发现记住条件陈述的 ``$\lor$'' 版本非常有帮助；基于 ``$\lor$'' 版本，可以很容易地应用德摩根定律得到该陈述的否定：

\setlength{\fboxrule}{2pt}
\begin{center}
\fcolorbox{olivegreen}{white}{%
    \parbox{0.8\textwidth}{%
        \[\neg (P \implies Q) \iff \neg (\neg P \lor Q) \iff P \land \neg Q\]
    }
}
\end{center}

\subsubsection*{否定 $\iff$}

要否定双向条件陈述，我们只需将其写为两个条件陈述的合取：
\[\neg (P \iff Q) \iff [\neg (P \implies Q) \lor \neg (Q \implies P)] \iff (P \land \neg Q) \lor (Q \land \neg P)\]
如果你熟悉计算机编程，你可能会认出右侧的陈述其实是 \verb|XOR| 运算符！它表示只有一个陈述为\verb|真|，$P$ 或 $Q$ 二者之一，但二者不能\emph{同时}为\verb|真|。

\subsection{否定任意陈述}

目前，我们已经讨论了如何否定基本数学声明：$\exists, \forall, \land , \lor$ 和 $\implies$。我们编写的其他所有内容都将是这些基本声明的组合，因此我们应该能够反复应用这些技术，从而否定任意陈述。从本质上讲，我们只需从左到右阅读陈述，然后依次否定每一部分。遇到 ``$\exists$''，只需将其转换为 ``$\forall$''，然后否定后面的属性！遇到 ``$\lor$''，只需否定连词前后的两部分并将逻辑连词变为 ``$\land$''！遇到条件陈述，只需应用我们上面展示的技术！

让我们通过几个示例来具体看一下上述方法的用法。\\

\begin{example}
    给出下面陈述的逻辑否定
    \[\forall x \in \mathbb{R} \centerdot x < 0 \lor x > 0\]
    该陈述说的是：``每个实数 $x$ 都满足 $x < 0$ 或 $x > 0$。''

    它的逻辑否定为
    \[\neg (\forall x \in \mathbb{R} \centerdot x < 0 \lor x > 0) \iff \exists x \in \mathbb{R} \centerdot x \ge 0 \land x \le 0\]
    请注意，我们应用了德摩根逻辑定律来否定右侧的 $\lor$ 声明，并且我们使用了 $X \ngtr 0$ 在逻辑上等价于 $x \le 0$ 这一事实。

    我们发现这里的否定陈述为\verb|真|，因为 $0 \in \mathbb{R}$ 并且 $0$ 满足 $0≤ \le 0$ 且 $0 \ge 0$。因此，原始陈述为\verb|假|。
\end{example}

\begin{example}
    给出下面陈述的逻辑否定
    \[\exists n \in \mathbb{N} \centerdot n \ge 10 \land \sqrt{n} \le 3\]
    该陈述说的是：``存在某个自然数 $n$，同时满足 $n \ge 10$ 且 $\sqrt{n} \le 3$。''

    它的逻辑否定为
    \[\forall n \in \mathbb{N} \centerdot n < 10 \lor sqrt{n} > 3\]
    原始陈述的逻辑否定说的是：``每个自然数 $n$ 都满足 $n < 10$ 或 $sqrt{n} > 3$''。
\end{example}

\begin{example}
    给出下面陈述的逻辑否定
    \[\exists x \in \mathbb{R} \centerdot \forall y \in \mathbb{R} \centerdot x \ge y \implies x^2 \ge y^2\]
    该陈述说的是：``存在某个实数 $x$，对于所有实数 $y$，每当满足 $x \ge y$ 时，我们都有 $x^2 \ge y^2$。''

    它的逻辑否定为
    \[\forall x \in \mathbb{R} \centerdot \exists y \in \mathbb{R} \centerdot x \ge y \land x^2 < y^2\]
    你能否证明原始陈述的逻辑否定实际上为\verb|真|的陈述？尝试一下！
\end{example}

\begin{example}
    给出下面陈述的逻辑否定
    \[\forall X \in \mathcal{P}(\mathbb{Z}) \centerdot (\forall x \in X \centerdot x \ge 1) \implies X \subseteq \mathbb{N}\]
    该陈述说的是：``对于整数集 $\mathbb{Z}$ 的每个子集 $X$，如果集合 $X$ 的每个元素 $x$ 都满足 $x \ge 1$，则 $X$ 是自然数集 $\mathbb{N}$ 的子集。''

    它的逻辑否定为
    \[\exists X \in \mathcal{P}(\mathbb{Z}) \centerdot (\forall x \in X \centerdot x \ge 1) \land X \nsubseteq \mathbb{N}\]
    原始陈述的逻辑否定说的是：``存在子集 $X \subseteq \mathbb{Z}$ 满足每个元素 $x \in X$ 都 $x \ge 1$ 且 $X \nsubseteq \mathbb{N}$。''我们甚至可以通过
    \[X \nsubseteq \mathbb{N} \iff \exists y \in X \centerdot y \notin \mathbb{N} \]
    进一步重写最后一部分，尽管这样做并不是必须的。

    哪个陈述（原始陈述还是否定陈述）为\verb|真|？你能给出证明吗？
\end{example}
\setlength{\fboxrule}{0.8pt}
\setlength\fboxsep{5mm}
\begin{center}
\fcolorbox{black}{white}{%
    \parbox{0.85\textwidth}{%
        将上面示例中的陈述与以下陈述进行对比：
        \[\forall X \in \mathcal{P}(\mathbb{Z}) \centerdot \forall x \in X \centerdot (x \ge 1 \implies X \subseteq \mathbb{N})\]
        二者唯一的区别是括号的位置不同，但这完全改变了陈述的含义！

        示例中陈述断言的是整数集的\emph{每个}子集。也就是说，无论引入哪个子集 $X \subset Z$，该陈述说的都是，如果集合 $X$ 的所有元素都大于等于 $1$，那么该集合 $X$ 实际上也是 $\mathbb{N}$ 的子集。

        而框中给出的新陈述却有不同含义：无论引入哪个子集 $X \subseteq Z$，而且，无论引入该集合 $X$ 中的哪个元素  $x$。该陈述说，如果该元素 $x$ 大于等于 $1$，则集合 $X$ 也是 $\mathbb{N}$ 的子集。

        你看出区别了吗？区别在于``如果''发生在哪里：量化在哪里结束，条件陈述从哪里开始？上面示例中的陈述将 $X$ 元素的量化放在条件陈述的``如果''部分之内。而此框中的陈述将量化完全放在条件陈述之前。

        此框中的陈述为假，我们鼓励你自己找出原因。
    }
}
\end{center}

\begin{example}
    设 $O(x)$ 为命题 ``$x$ 为奇数''，设 $E(x)$ 为命题 ``$x$ 为偶数''。给出下面陈述的逻辑否定
    \[\forall x, y \in \mathbb{Z} \centerdot O(x \cdot y) \iff \big(O(x) \land O(y)\big)\]
    该陈述说的是：``对于两个整数 $x$ 和 $y$，它们的乘积为奇数当且仅当它们本身都是奇数。''

    在进行逻辑否定之前，请记住 $\iff$ 意味着 ``$\implies$'' 和 ``$\impliedby$''。让我们首先以这种方式重写该声明，以便我们可以正确地否定它：
    \[\forall x, y \in \mathbb{Z} \centerdot \Big[O(x \cdot y) \implies \big(O(x) \land O(y)\big)\Big] \land \Big[\big(O(x) \land O(y)\big) \implies O(x \cdot y)\Big]\]
    上面陈述的逻辑否定为
    \[\neg \bigg(\forall x, y \in \mathbb{Z} \centerdot \Big[O(x \cdot y) \implies \big(O(x) \land O(y)\big)\Big] \land \Big[\big(O(x) \land O(y)\big) \implies O(x \cdot y)\Big]\bigg) \]
    \begin{align*}
        \iff \exists x, y \in \mathbb{Z} \centerdot & \neg \Big[O(x \cdot y) \implies \big(O(x) \land O(y)\big)\Big] \lor \neg \Big[\big(O(x) \land O(y)\big) \implies O(x \cdot y)\Big] \\
        \iff \exists x, y \in \mathbb{Z} \centerdot & \Big[O(x \cdot y) \land \neg \big(O(x) \land O(y)\big)\Big] \lor \Big[\big(O(x) \land O(y)\big) \land \neg O(x \cdot y)\Big] \\
        \iff \exists x, y \in \mathbb{Z} \centerdot & \Big[O(x \cdot y) \land \big(E(x) \lor E(y)\big)\Big] \lor \Big[\big(O(x) \land O(y)\big) \land E(x \cdot y)\Big] 
    \end{align*}
    也就是说，逻辑否定表示``存在整数 $x$ 和 $y$，使得它们的乘积要么是奇数，但 $x$ 和 $y$ 其中（至少）一个是偶数；要么 它们的乘积为偶数，但 $x$ 和 $y$ 都是奇数。''

    你能证明哪个说法是正确的吗？
\end{example}

\subsection{习题}

\subsubsection*{温故知新}

以口头或书面的形式简要回答以下问题。这些问题全都基于你刚刚阅读的内容，所以如果忘记了具体的定义、概念或示例，可以回去重读相关部分。确保在继续学习之前能够自信地回答这些问题，这将有助于你的理解和记忆！

\begin{enumerate}[label=(\arabic*)]
    \item 数学陈述与其逻辑否定有何关系？
    \item 条件陈述的逻辑否定是什么？
    \item 考虑命题 $P \implies Q$。它的逆否形式是什么？该逆否形式的逻辑否定是什么？你能看出它一定与原始陈述的逻辑否定具有\emph{相同的}真值吗？
    \item \emph{当且仅当}形式的陈述 $P \iff Q$ 的逻辑否定是什么？为什么这是合理的？
\end{enumerate}

\subsubsection*{小试牛刀}

尝试回答以下问题。这些题目要求你实际动笔写下答案，或（对朋友/同学）口头陈述答案。目的是帮助你练习使用新的概念、定义和符号。题目都比较简单，确保能够解决这些问题将对你大有帮助！

\begin{enumerate}[label=(\arabic*)]
    \item 写出以下每个数学陈述的逻辑否定。然后，确定每个陈述的真值。（如果你觉得自己牛逼，请正式证明/证伪每个陈述！）
    \begin{enumerate}[label=(\alph*)]
        \item $\exists x \in \mathbb{N} \centerdot \forall y \in \mathbb{N} \centerdot y - x^2 \ge 0$
        \item $\exists x \in \mathbb{Z} \centerdot \forall y \in \mathbb{R} \centerdot xy = 0$
        \item $\exists x \in \mathbb{Z} \centerdot \forall y \in \mathbb{Z} \centerdot (y \ne 0 \implies xy > 0)$
        \item $\forall a, b \in \mathbb{Q} \centerdot ab \in \mathbb{Z} \implies (a \in \mathbb{Z} \lor b \in \mathbb{Z})$
        \item $\forall x \in \mathbb{R} \centerdot x > 0 \implies (\exists y \in \mathbb{R} \centerdot y < 0 \land xy > 0)$
        \item $\forall x \in \mathbb{R} \centerdot |x + \frac{1}{x}| = 2 \iff x = 1$
    \end{enumerate}
    \item 设 $A = \{1, 2, 3, 4\}, B = \{2, 3\}$。下面两个陈述
        \begin{enumerate}[label=(\alph*)]
            \item $\forall x \in A \centerdot \forall y \in B \centerdot (x \ge y \implies x^2 \ge 4)$
            \item $\forall x \in A \centerdot (\forall y \in B \centerdot x \ge y) \implies x^2 \ge 4$
        \end{enumerate}
        有什么区别？确定每个陈述的真值。然后，给出上面两个陈述的逻辑否定，并解释这些否定陈述有何不同。他们的真值是什么？
    \item 设 $P = \{x \in \mathbb{R} \mid x > 0\}$。写出下列各陈述的逻辑否定，并确定其真值。
        \begin{enumerate}[label=(\alph*)]
            \item $\forall \varepsilon \in P \centerdot \forall x \in P \centerdot \exists \delta \in P \centerdot \forall y \in \mathbb{R} \centerdot \Big(|x-y|<\delta \implies |\frac{1}{x} - \frac{1}{y}| < \varepsilon \Big)$
            \item $\forall \varepsilon \in P \centerdot \exists \delta \in P \centerdot \forall x \in P \centerdot \forall y \in \mathbb{R} \centerdot \Big(|x-y|<\delta \implies |\frac{1}{x} - \frac{1}{y}| < \varepsilon \Big)$
        \end{enumerate}
        \textbf{提示/建议}：像 $|a| < b$ 这样的陈述可以写成 $-b < a < b$。此外，像 $a < b < c$ 这样的陈述可以写成 $(a < b) \land (b < c)$。这有助于在确定陈述真值时重写陈述。
    \item 令 $P(n)$ 为命题 ``$n$ 为奇数''，令 $Q(n)$ 为命题 ``$n^2 - 1$ 能被 $8$ 整除''。写出下面陈述的逻辑否定
        \[\forall n \in \mathbb{N} \centerdot P(n) \iff Q(n)\]
        并且确定其真值。
    \item 令 $P = \{x \in \mathbb{R} \mid x > 0\}$。写出下列各陈述的逻辑否定，并确定其真值。
        \begin{enumerate}[label=(\alph*)]
            \item $\forall \varepsilon \in P \centerdot \exists \delta \in P \centerdot \forall x \in \mathbb{R} \centerdot 0 < x < \delta \implies \frac{1}{x} > \frac{10}{\varepsilon}$
            \item $\forall \varepsilon \in P \centerdot \exists x \in \mathbb{R} \centerdot \forall n \in \mathbb{N} \centerdot (n > x \implies \frac{(-1)^n}{n} < \varepsilon)$
            \item $\forall \varepsilon \in P \centerdot \exists x \in \mathbb{R} \centerdot \forall n \in \mathbb{N} \centerdot (n > x \iff\frac{(-1)^n}{n} < \varepsilon)$
        \end{enumerate}
\end{enumerate}