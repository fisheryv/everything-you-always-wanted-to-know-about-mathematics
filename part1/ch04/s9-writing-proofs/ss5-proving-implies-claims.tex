% !TeX root = ../../../book.tex

\subsection{证明 $\implies$}\label{sec:section4.9.5}

回顾第 \ref{sec:section4.5.3} 节可能有所帮助，我们在该节引入了逻辑连词``$\implies$''。特别要记住 $P \implies Q$ 表示\emph{只要} $P$ 成立，$Q$ 就\emph{必然}成立。当 $P$（\textbf{假设}）为\verb|假|时，该条件陈述恒为\verb|真|，因此证明中无需考虑这种情况。我们只需\emph{假设} $P$ 成立，并推导出 $Q$ 成立，即只需处理``若 $P$ 成立，则 $Q$ 成立''的情形。

\subsubsection*{直接证法}

\begin{center}
    \noindent \fcolorbox{blue}{white}{%
        \parbox{0.85\textwidth}{%
            \linespread{1.5}\selectfont
            \textcolor{blue}{\textbf{策略：}}\\
            声明：$P \implies Q$ \\
            \emph{直接证明策略：} \\
            \hspace*{1cm} 假设 $P$ 成立，证明 $Q$ 成立。
        }
    }
\end{center}

\begin{example}[平方的单调性]
    \begin{center}
        陈述：$\forall y \in \mathbb{R} \centerdot y>1 \implies y^2-1>0$
    \end{center}
    
    \begin{center}
        \noindent \fcolorbox{olivegreen}{white}{%
            \parbox{0.85\textwidth}{%
                \linespread{1.5}\selectfont
                % \textcolor{olivegreen}{\textbf{实现：}}
                \begin{proof}
                    设 $y \in \mathbb{R}$ 为任意固定实数，且 $y > 1$。
                    
                    不等式两边同时乘以 $y$（因为 $y>0$），可得 $y^2>y$。

                    由 $y>1$ 得到 $y^2>y>1$，所以 $y^2>1$。

                    两边同时减 $1$ 得 $y^2-1>0$。
                \end{proof}
            }
        }
    \end{center}
\end{example}

此例称为``平方的单调性''，因其展示了实数的一种单调性质。该术语描述不等式在运算下保持不变的特征：此处 $y > 1$ 的性质通过``平方运算''得以保持，即证明了若 $y > 1$ 则 $y^2 > 1^2$。

此例虽简单，但旨在强调条件命题的证明策略。下面讨论一个更复杂的例子。

（你可能会注意到，习题 \ref{exc:exercises4.11.22} 有类似命题，理解本例后或可尝试解决该题。）

\clearpage

\begin{example}[解决不等式问题]\label{ex:example4.9.8}

    定义以下变量命题：
    \[P(x) \text{\ 为\ } \frac{x-3}{x+2}>1-\frac{1}{x}\]
    \[Q(x) \text{\ 为\ } \frac{x+3}{x+2}<1+\frac{1}{x}\]

    定义 $S = \{x \in \mathbb{R} \mid x > 0\}$。

    我们声明
    \[\forall x \in S \centerdot P(x) \implies Q(x)\]

    \begin{center}
        \noindent \fcolorbox{red}{white}{%
        \parbox{0.85\textwidth}{%
            \linespread{1.5}\selectfont
            \textcolor{red}{\textbf{草稿：}}\\
            我们推测直接证明可行，尝试将 $P(x)$ 的不等式变形为 $Q(x)$ 的形式：
            \[\frac{x-3}{x+2}>1-\frac{1}{x}\]
            因为 $x>0$ 所以 $x+2>0$，不等式两边同时乘以 $x+2$ 可得
            \[x-3>(x+2)-\frac{x+2}{x} = x+2-1-\frac{2}{x} = x+1-\frac{2}{x}\]
            我们需要构造出 $x+3$，所以两边同时加上 $2+\frac{2}{x}$ 可得
            \[x-1+\frac{2}{x} > x+3\]
            我们可不可以两边同时除以 $x+2$ 让右边变成分数形式呢？等一下！我们已经化简了分数 $\frac{x+2}{x}$ 并将其移到了一边。也许我们不该一上来就化简它，所以我们试着还原回来：
            \[x+3<x-1+\frac{2}{x} = (x+2)+\frac{x+2}{x}-4=(x+2)\left(1+\frac{1}{x}\right)-4\]
            可见右侧小于目标形式，所以结论成立。
        }
        }
    \end{center}

    让我们将上述推导整理为正式证明。

    \begin{center}
        \noindent \fcolorbox{olivegreen}{white}{%
            \parbox{0.85\textwidth}{%
                \linespread{1.5}\selectfont
                % \textcolor{olivegreen}{\textbf{实现：}}
                \begin{proof}
                    设 $x \in S$ 为任意固定元素。
                    
                    假设 $P(x)$ 成立；这意味着
                    \[\frac{x-3}{x+2}>1-\frac{1}{x}\]
                    我们将证明不等式
                    \[\frac{x+3}{x+2}<1+\frac{1}{x}\]
                    也必然成立。
                    
                    由 $x \in S$ 可知 $x>0$ 则 $x+2>0$ 也必然成立。因此两边同时乘以 $x+2$ 得
                    \[x-3 > (x+2)\left(1-\frac{1}{x}\right)=x+2-\frac{x+2}{x}\]
                    两边同时加上 $3+\frac{x+2}{x}$ 再同时减去 $2$，交换不等号方向（为了更易读）可得
                    \[x+3<x-2+\frac{x+2}{x}\]
                    因为 $x-2<x+2$，可得
                    \[x+3<x+2+\frac{x+2}{x}\]
                    提取公因式得
                    \[x+3<(x+2)\left(1+\frac{1}{x}\right)\]
                    又因为 $x+2>0$，不等式两边同时除以 $x+2$ 得
                    \[\frac{x+3}{x+2}<1+\frac{1}{x}\]
                    而这正是我们要证明的不等式。以上证明了 $P(x) \implies Q(x)$，又因为 $x$ 是任意的，故命题得证。
                \end{proof}
            }
        }
    \end{center}
\end{example}

这里的关键启示在于草稿中的探索性工作如何转化为严谨的证明。我们删减了冗余步骤，但保留了每个推理环节的合理性说明。虽然资深数学家可能省略部分推导，但在数学学习初期，呈现完整细节更为稳妥。

\subsubsection*{逆否证法}

回顾第 \ref{sec:section4.6.1} 节，我们已证明条件陈述与其逆否命题逻辑等价。即条件陈述 $P \implies Q$ 必然与 $\neg Q \implies \neg P$ 具有相同的真值。

因此，要整证明 $P \implies Q$ 成立，可直接证明 $\neg Q \implies \neg P$ 成立！根据 $P$ 与 $Q$ 的具体含义，其逆否形式有时更易理解或更易证明。尤其当 $P$ 或 $Q$（或两者）含有``不''字时，逆否策略特别有效：通过否定可将其转化为``肯定''断言。

\begin{center}
    \noindent \fcolorbox{blue}{white}{%
        \parbox{0.85\textwidth}{%
            \linespread{1.5}\selectfont
            \textcolor{blue}{\textbf{策略：}}\\
            声明：$P \implies Q$ \\
            \emph{逆否策略：} \\
            \hspace*{1cm} 假设 $\neg Q$ 成立，证明 $\neg P$ 成立。\\
            （注意，这是 $\neg Q \implies \neg P$ 的直接证明策略。）
        }
    }
\end{center}

\begin{example}[偶数的乘积]

    设 $E(x)$ 为命题``$x$ 为偶数''。

    我们声明
    \[\forall m,n \in \mathbb{Z} \centerdot E(m \cdot n) \implies \left(E(m) \lor E(n)\right)\]

    换言之，若两个整数之积为偶数，则至少有一个数为偶数。

    \begin{center}
        \noindent \fcolorbox{olivegreen}{white}{%
            \parbox{0.85\textwidth}{%
                \linespread{1.5}\selectfont
                % \textcolor{olivegreen}{\textbf{实现：}}
                \begin{proof}
                    我们用逆否证法证明该命题。
                    
                    设 $m,n \in \mathbb{Z}$ 为任意固定整数。
                    
                    假设 $\neg E(m) \land \neg E(n)$，即 $m$ 与 $n$ 均为奇数。

                    这意味着 $\exists k,l \in \mathbb{Z} \centerdot m=2k+1 \land n=2l+1$。

                    给定满足条件的 $k,l$，那么
                    \[m \cdot n = (2k+1)(2l+1) = 4kl+2k+2l+1 = 2(2kl+k+l)+1\]
                    因为 $2kl+k+l \in \mathbb{Z}$，这表明 $m \cdot n$ 为奇数。

                    因此 $\neg E(m \cdot n)$ 成立，至此证得
                    \[\left(\neg E(m) \land \neg E(n)\right) \implies \neg E(m \cdot n)\]
                    其逆否形式就是我们要证明的命题。
                \end{proof}
            }
        }
    \end{center}
\end{example}

请注意，在证明开始时告知读者采用逆否证法，可以避免困惑。若未作说明，读者可能不解为何假设 $\neg E(m)$ 成立。预先说明策略能使论证思路更清晰。

\subsubsection*{间接证法（反证法）}

该方法基于条件陈述的逻辑否定。重读第 \ref{sec:section4.7} 节，回顾我们证明的等价关系：
\[\neg (P \implies Q) \iff (P \land \neg Q)\]

此证明技术直接运用该等价性。

\begin{center}
    \noindent \fcolorbox{blue}{white}{%
        \parbox{0.85\textwidth}{%
            \linespread{1.5}\selectfont
            \textcolor{blue}{\textbf{策略：}}\\
            声明：$P \implies Q$ \\
            \emph{间接证明策略：} \\
            \hspace*{1cm} 为了引出矛盾而假设 $P$ 成立而 $Q$ 不成立。得出矛盾。
        }
    }
\end{center}

\begin{example}[令人惊讶的算术几何平均不等式]
    \begin{center}
        陈述：$\forall x \in \mathbb{R} \centerdot x > 0 \implies x + \frac{1}{x} \ge 2$
    \end{center}

    让我们直接进入证明，不做任何临时性工作，因为这个证明读起来相当简单。后面，我们将讨论其他替代策略。

    \begin{center}
        \noindent \fcolorbox{olivegreen}{white}{%
            \parbox{0.85\textwidth}{%
                \linespread{1.5}\selectfont
                % \textcolor{olivegreen}{\textbf{实现：}}
                \begin{proof}
                    令 $x \in \mathbb{R}$ 为任意固定实数。

                    假设 $x>0$。

                    为了引出矛盾而假设 $x+\frac{1}{x} < 2$。

                    因为 $x>0$，我们可以在不等式两边同时乘以 $x$ 得
                    \[x^2 + 1 < 2x\]
                    整理并配方后可得
                    \[(x-1)^2 < 0\]
                    这与 $(x-1)^2 \ge 0$ 矛盾。$\hashx$
                    
                    因此，假设不成立，原命题成立。
                \end{proof}
            }
        }
    \end{center}
\end{example}

现在，你可能对这个例子的标题感到好奇：这与算术几何平均不等式有何关联？（回想一下，我们在第 \ref{sec:section4.9.2} 节已证明该不等式。）敏锐的读者可能意识到，这一结论不仅是不等式（如同算术几何平均不等式），其证明的若干步骤也与后者相似。具体而言，证明算术几何平均不等式时，我们运用了特定平方表达式非负的性质；同样，本证明中我们也利用了平方表达式\emph{应当}非负的特性。这种相似性揭示了潜在的内在关联。事实上，我们可以直接\emph{应用}算术几何平均不等式（注意，需巧妙运用！）以不同的方式证明上述结论。

花几分钟时间思考一下。在阅读下方证明之前，请尝试构思后续论证。应用该不等式意味着什么？它适用于任意实数 $x$ 和 $y$，但此处仅有一个 $x$。能否巧妙选取 $y$ 值，使结论自然显现？尝试一下！然后继续阅读……

\begin{proof}
    令 $x \in \mathbb{R}$ 为任意固定实数，且 $x>0$。

    定义 $y = \frac{1}{x}$，则 $y \in \mathbb{R}$。

    对 $x$ 和 $y$ 应用算术几何平均不等式（因为其对\emph{任意} $x,y \in \mathbb{R}$ 必然成立）。可得
    \[x \cdot \frac{1}{x} \le \left(\frac{x+\frac{1}{x}}{2}\right)^2\]

    两边稍作化简可得
    \[1 \le \frac{1}{4}\left(x+\frac{1}{x}\right)^2\]

    左右两边同时乘以 $4$ 得
    \[4 \le \left(x+\frac{1}{x}\right)^2\]

    不等式两边都非负，我们可以两边同时开平方得
    \[2 \le x+\frac{1}{x}\]

    这就是要证明的结论。
\end{proof}

由此可得一个宝贵的经验：

\begin{center}
    关注不同论证方法的共性，而非仅聚焦已证结论本身。
\end{center}

应用已知结论往往能简化证明过程！（本例虽未显著减少书写量，但若未发现反证法，此方法可以节省构思时间——尤其是可以避免第一个证明中的因式分解技巧。）