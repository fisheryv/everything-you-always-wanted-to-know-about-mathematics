% !TeX root = ../../../book.tex
\subsection{条件陈述}\label{sec:section4.5.3}

这是最难使用的逻辑连词，经常引起问题，因此我们需要格外小心和明确。当 $Q$ 的真值\emph{必然}从 $P$ 的真值推导出来时，我们期望陈述``\textbf{如果} $P$，\textbf{则} $Q$''（或``$P$ 蕴含 $Q$''）为\verb|真|。也就是说，该陈述为\verb|真|当且仅当以下条件成立：

\begin{center}
    每当 $P$ 为\verb|真|时，$Q$ 也为\verb|真|。
\end{center}

\subsubsection*{真值表与定义}

由于这是语义上最难理解的连词，我们引入\textbf{真值表}的概念以便阐明：
\begin{center}
    \begin{tabular}{c|c|c|c|c|c|c}
          $P$      & $Q$      & $\neg P$ & $P \land Q$ &  $P \lor Q$ & $P \implies Q$ & $Q \implies P$\\
          \hline
          \verb|T| & \verb|T| & \verb|F| &   \verb|T|  &  \verb|T|   &    \verb|T|    & \verb|T|\\
          \verb|T| & \verb|F| & \verb|F| &   \verb|F|  &  \verb|T|   &    \verb|F|    & \verb|T|\\
          \verb|F| & \verb|T| & \verb|T| &   \verb|F|  &  \verb|T|   &    \verb|T|    & \verb|F|\\
          \verb|F| & \verb|F| & \verb|T| &   \verb|F|  &  \verb|F|   &    \verb|T|    & \verb|T|\\
    \end{tabular}
\end{center}
你或许在其他数学课程中见过真值表，但即使没有也不必担心。其主要思想是：每一列对应一个特定数学陈述及其真值，每行对应\emph{分配}给原子陈述 $P$ 和 $Q$ 的特定真值。

该真值表有 $4$ 行，因为 $P$ 和 $Q$ 各自可独立取真或假，共有 $4$ 种组合。查看特定行时，我们根据前两列中 $P$ 和 $Q$ 的真值确定其他陈述的真值。

请注意，$P \land Q$ 和 $P \lor Q$ 列严格遵循定义。$P \land Q$ 列仅有一个 \verb|T|，对应 $P$ 和 $Q$ \emph{同时}为\verb|真|的情况；其余情况均为\verb|假|。类似地，$P \lor Q$ 列仅有一个 \verb|F|，对应 $P$ 和 $Q$ \emph{同时}为\verb|假|的情况；其余情况均为\verb|真|。

为什么最后两列的真值如此设定？假设我声称``如果你努力学习，那么你将在这门课程中获得 A''。其中 $P$ 是``你努力学习''，$Q$ 是``你会得到 A''。你何时会指责我是\emph{骗子}？何时会认为我说了真话？显然，如果你努力学习并获得了 A，我的陈述为真。相反，如果你努力学习却未获得 A，我的陈述为假。但如果你未努力学习，无论结果如何，你都\emph{无法宣称我是骗子}！我的声明未涵盖不努力的情况；它假设你会努力学习。因此，我没有说谎，根据排中律，我的陈述为真。

真值表中 $P \implies Q$ 列的第三行和第四行（即 $P$ 为假时）为\verb|真|，这称为\textbf{错误假设}。当``$\implies$''左侧的陈述不成立时，该主张不适用，故不能断言其为\verb|假|。根据排中律，它必然为\verb|真|。

这种情况（$P \implies Q$ 列的第三行和第四行为\verb|真|）被称为\textbf{错误假设}。当 ``$\implies$'' 左边的陈述不成立时，我们不在该主张的讨论范围内，因此我们不能断言该主张为\verb|假|。因此，该主张必然为\verb|真|（同样，根据排中间律）。

下面正式定义该符号，并通过更多示例阐释：

\begin{definition}
    在数学陈述间使用符号``$\implies$''表示数学陈述间的``如果……那么''或``蕴涵''关系。例如，``$P \implies Q$'' 读作``如果 $P$，则 $Q$''或``$P$ 蕴含 $Q$''。

    这称为\dotuline{条件语句}。

    假设每当 $P$ 成立时 $Q$ 也成立，``$P \implies Q$''的真值为\verb|真|。

    仅当 $P$ 为\verb|真| 而 $Q$ 为\verb|假| 时，真值才为\verb|假|。

    我们称  $P$ 为条件陈述的\dotuline{假设}，$Q$ 为\dotuline{结论}。
\end{definition}

定义中的关键词``每当''解释了\emph{错误假设}的合理性。当 $P$ 为真并且可以推出 $Q$ 为真时，则 $P \implies Q$ 为真。若 $P$ 为假，则不能断言 $P \implies Q$ 为假。仅当存在 $P$ 为真而 $Q$ 为假的情况时（即 $Q$ 不必然从 $P$ 推出），$P \implies Q$ 才为假。

\subsubsection*{示例}

以下示例有助于理解这一概念：
\begin{align*}
    (1 + 3 = 4) \implies (\forall x \in \mathbb{R} \centerdot x^2 \ge 0)  \qquad &\text{真} \\
    (1 + 3 = 5) \implies (\forall x \in \mathbb{R} \centerdot x^2 \ge 0)  \qquad &\text{真} \\
    (1 + 3 = 5) \implies (\text{亚伯拉罕·林肯还活着})  \qquad &\text{真} \\
    (1 + 1 = 2) \implies (0 = 1)  \qquad &\text{假} \\
    (0 = 0) \implies (\exists x \in \mathbb{R} \centerdot x^2 < 0)  \qquad &\text{假} \\
    (\text{毕达哥拉斯定理}) \implies (1 = 1)  \qquad &\text{真} \\
    (0 = 1) \implies (1 = 1)  \qquad &\text{真}
\end{align*}
请注意，第二和第三个示例为\verb|真|，因为其假设``$1 + 3 = 5$''为\verb|假|。无论结论如何，整个条件陈述必然为\verb|真|。``$\forall x \in \mathbb{R} \centerdot x^2 \ge 0$''恰好为\verb|真|或``亚伯拉罕·林肯还活着''恰好为\verb|假|并不重要；错误的假设决定了陈述的真值必为\verb|真|。

此外，倒数第二个例子虽然为\verb|真|，却无法证明毕达哥拉斯定理本身为\verb|真|！这正是第一章中对该定理的错误``证明''所犯的错误。请回顾第 \ref{sec:section1.1.1} 节，尤其是``证明 2''。我们假设毕达哥拉斯定理成立，并从中逻辑推导出为\verb|真|的陈述。这仅表明推理有效，并不证明假设成立！

鉴于该思想的重要性，我们立即展示另一个典型谬误。请注意其逻辑形式与其他错误证明完全一致：

\begin{spoof}
    假设 $1 = 0$。那么，根据 $=$ 的对称性，$0 = 1$ 同样成立。将这两个方程相加可得 $1 = 1$，此为\verb|真|。因此，$0 = 1$ 成立。
\end{spoof}
这里的核心要点如下：
\begin{center}
    条件陈述为\verb|真|本身，并不传递其成分命题真值的\emph{任何}信息。
\end{center}
上述第三和第七个陈述同样印证这一点：两个条件陈述皆为\verb|真|，但我们显然不能得出亚伯拉罕·林肯尚在人世或 $0 = 1$ 的结论。

\subsubsection*{``蕴涵''与``可推导''的区分}

使用``蕴涵''表述``如果……那么……''这样的条件陈述常引发混淆。我们认为这源于``蕴涵''一词隐含的\emph{因果关联}。例如，考虑以下陈述：
\[1 + 3 = 4 \implies 2 + 3 = 5\]
该条件陈述为\verb|真|，我们可能理解为：将假设 $1 + 3 = 4$ 两边同时加 $1$，即可得到结论中的等式。此时假设的真实性似乎直接影响结论的真实性——两者存在\emph{直接}推导关系。但此关系并非必然成立！

回顾上面给出的第一个例子：
\[(1 + 3 = 4) \implies (\forall x \in \mathbb{R} \centerdot x^2 \ge 0)\]
$1+3=4$ 与``任意实数平方非负''有何逻辑关联？实际上两者并无必然联系！无论能否从假设直接推导结论，该条件陈述仍为\verb|真|。唯一决定因素是其成分陈述的真值。

诚然，证明条件陈述时我们往往会尝试直接推导，但请务必记住：这是证明策略的选择，而非条件陈述的本质要求。因此，我们倾向于采用``如果……那么……''而非``蕴涵''来书写条件陈述。虽然其他数学文献可能使用该词，但在学习逻辑陈述与连接词阶段，我们将尽量避免。

\subsubsection*{量化变量：同样重要！}

在数学中，我们经常需要证明涉及变量的条件陈述。例如，在实数集 $\mathbb{R}$ 的背景下，我们可能希望证明：
\[x > 1 \implies x^2 - 1 > 0\]
这本身就是一个\textbf{变量命题}，其中符号``$\implies$''的定义适用于此类命题。

若已知 $x > 1$ 且 $x^2 - 1 > 0$，则可断言该条件陈述为\verb|真|。若已知 $x \le 1$，则无论 $x^2 - 1 > 0$ 是否成立，该条件陈述均为\verb|真|——这正是``$\implies$''的定义。

但需注意，上述条件陈述在技术上并非完整的数学命题。由于我们在实数背景下讨论，其完整表述应为：
\[\forall x \in \mathbb{R} \centerdot (x > 1 \implies x^2 - 1 > 0)\]
这才是我们实际要表达的内容。逻辑连词（$\land , \lor$ 和 $\implies$）可应用于变量命题；但若要在其他语境中组合语句，则必须对这些变量进行量化。唯有如此，才能确保该语句是具有确定真值的数学命题。

\subsubsection*{用``$\lor$''重写``$\implies$''}

有一个有用且重要的概念值得一提。一方面在于我们稍后会用到它，另一方面在于它有助于理解并应用条件陈述。

考虑条件陈述 $P \implies Q$：若 $P$ 不成立，则无论 $Q$ 的真值如何，该陈述恒为\verb|真|；但若 $P$ 成立，则必须 $Q$ 也成立，整个陈述才为\verb|真|。

由此可得条件陈述成立的两种情形，并可表述为析取形式：要么 $\neg P$ 成立（即前件为假），要么 $Q$ 成立。任一情形均保证 $P \implies Q$ 成立。这一观点可形式化表述为：

\begin{center}
    条件陈述``$P \implies Q$''与陈述``$\neg P \lor Q$''具有相同的真值。
\end{center}

这是\textbf{逻辑等价}的典型范例（下一节将详细讨论）。通过真值表可验证：无论 $P$ 和 $Q$ 的真值如何，二者真值始终保持一致。

\begin{center}
    \begin{tabular}{c|c|c|c|c}
          $P$      & $Q$      & $\neg P$ & $\neg P \lor Q$ & $P \implies Q$ \\
          \hline
          \verb|T| & \verb|T| & \verb|F| &     \verb|T|    &  \verb|T|   \\
          \verb|T| & \verb|F| & \verb|F| &     \verb|F|    &  \verb|F|   \\
          \verb|F| & \verb|T| & \verb|T| &     \verb|T|    &  \verb|T|   \\
          \verb|F| & \verb|F| & \verb|T| &     \verb|T|    &  \verb|T|   \\
    \end{tabular}
\end{center}

\subsubsection*{更多示例}

让我们看更多条件陈述的例子，并判断它们是否正确。这样做有助于你更好地理解 $\implies$ 的工作原理。然后，我们将转向证明\emph{策略}，并讨论如何正式且严格地使用逻辑连词和量词来证明此类陈述。

\begin{example}
    我们将从一个``现实世界''的例子开始，以熟悉所涉及的逻辑。假设我们所在的班级只在周一、周三和周五安排正式讲座。你会注意到，我们将使用两个陈述 $P$ 和 $Q$，并考虑它们及其否定形式组合而成的四个条件陈述。
    \begin{itemize}
        \item ``如果今天有讲座，那么今天就是工作日。''
        
        （注：这句话中有一些\emph{隐性量化}。我们实际上是在说``对于周历中的所有自然日 $d$，如果我们在 $d$ 天有讲座，那么 $d$ 就是工作日。''但上面的简洁版本更好地表达了主要思想，因此我们使用它。请记住，这是句子的含义；在下面的讨论中，我们将考虑量化的不同情况。）

        这可以通过定义 $P$ 为``今天有讲座''、$Q$ 为``今天是工作日''，从而将陈述逻辑地写为 $P \implies Q$。

        该陈述为\verb|真|吗？注意，$P$ 和 $Q$ 并未指定具体日期，因此若断言它为真，则必须独立于当前日期成立。也就是说，无论今天是哪一天，$P \implies Q$ 都应成立。让我们通过一些情况来验证：
        \begin{itemize}[label=--]
            \item 假设今天是星期六或星期天。这些天没有讲课，因此该条件陈述为\verb|真|。
            \item 假设今天是星期一、星期三或星期五。今天有讲座且是工作日，因此该条件陈述为\verb|真|。
            \item 假设今天是星期二或星期四。今天通常没有讲座，但即使特殊情况下有讲座，今天仍是工作日，因此该条件陈述依然为\verb|真|。
        \end{itemize}
        在所有可能情况下，该陈述均成立，故 $P \implies Q$ 为\verb|真|。

        你可能会反驳：``为什么要费心处理所有这些情况呢？假设有讲座时能推断出是工作日，不就足够了吗？''是的，这完全正确！这实际上是一条更\emph{直接}的路径。

        这暗示了我们未来证明条件陈述的方法：由于无讲座的情况（\emph{错误假设}）不影响结论，我们只需\emph{假设}某天有讲座，并\emph{推断}该天是工作日即可。这就是\textbf{直接证明}条件陈述的策略。

        \item ``如果今天是工作日，那么今天有讲座。''
        
            这在逻辑上可以写作 $Q \implies P$，沿用前述 $P$ 和 $Q$ 的定义。

            该陈述为\verb|真|吗？答案是否定的！例如，学期的第一个星期二无讲座但却是工作日。此时 $Q$ 为\verb|真|而 $P$ 为\verb|假|，故 $Q \implies P$ 为\verb|假|。

        \item ``如果今天不是工作日，那么今天就没有讲座。''
        
            这在逻辑上可以写作 $\neg Q \implies \neg P$，沿用前述 $P$ 和 $Q$ 的定义。

            该陈述为\verb|真|吗？是的！可以直接证明：假设今天不是工作日（即星期六或星期天）。大学通常不会在周末安排讲座，因此 $\neg P$ 成立。这表明 $\neg Q \implies \neg P$ 为\verb|真|。

            （问题：为什么我们不需要考虑今天是工作日的情况？）

        \item ``如果今天没有讲座，那么今天就不是工作日。''
        
            这在逻辑上可以写作 $\neg P \implies \neg Q$，沿用前述 $P$ 和 $Q$ 的定义。

            该陈述为\verb|真|吗？思考一下：假设今天没有讲座，能否推断今天不是工作日？并非如此！例如，星期二可能无讲座但仍是工作日。这提供了一个反例：$\neg P$ 成立时 $\neg Q$ 不成立。

            注意，某些情况下 $\neg P$ 和 $\neg Q$ 同时成立（如星期六无讲座且非工作日）。但\emph{单一实例}不能证明全称陈述成立——必须验证\emph{所有实例}的真实性。
    \end{itemize}
\end{example}

\begin{example}
    让我们用一个更``数学''的例子来做同样的分析。在整个示例中，令 $A$ 和 $B$ 为任意集合。另外，令 $P$ 为``$A \subseteq B$''，令 $Q$ 为``$A - B = \varnothing$''。我们将像前面示例中那样，考虑 $P$ 和 $Q$ 及其否定形式组合而成的所有四种可能的条件陈述。
    \begin{itemize}
        \item $P \implies Q$ 为\verb|真|吗？

            答案是肯定的！ 假设 $A$ 和 $B$ 满足 $A \subseteq B$。这意味着 $A$ 的每个元素都属于 $B$，因此不存在属于 $A$ 但不属于 $B$ 的元素。由于 $A - B$ 是那些属于 $A$ 而不属于 $B$ 的元素的集合，故没有这样的元素，从而 $A - B = \varnothing$。

        \item $Q \implies P$ 为\verb|真|吗？

            答案是肯定的！假设 $A - B = \varnothing$。这意味着 $A$ 中所有元素都属于 $B$（仔细思考一下）。换句话说，对于任意元素 $x \in A$，$x$ 不可能不属于 $B$（因为若 $x \in A - B$，则与 $A - B = \varnothing$ 矛盾）；因此必然有 $x \in B$。这正是 $A \subseteq B$ 的定义：若 $x \in A$，则 $x \in B$。这就证明了 $Q \implies P$ 成立。

        \item $\neg Q \implies \neg P$ 为\verb|真|吗？

            这个可能较难理解。假设 $\neg Q$ 成立，即 $A - B \ne \varnothing$。也就是说，存在某个元素 $x$ 满足 $x \in A$ 且 $x \notin B$。那么 $A \nsubseteq B$，因为 $\subseteq$ 要求 $A$ 的每个元素都属于 $B$，但我们找到了反例。因此，$\neg Q \implies \neg P$ 为\verb|真|。

        \item $\neg P \implies \neg Q$ 为\verb|真|吗？
            
            同理，$\neg P$ 表示 $A \nsubseteq B$，即存在某个元素 $x \in A$ 且 $x \notin B$（这与前面情况相同）。那么，这说明了什么？考虑集合 $A - B$：由于 $x \in A$ 且 $x \notin B$，我们有 $x \in A - B$，因此 $A - B \ne \varnothing$，即 $\neg Q$ 成立。故 $\neg P \implies \neg Q$ 为\verb|真|。
    \end{itemize}
\end{example}

\subsubsection*{关于 ``$\implies$'' 的观察和事实}

前面我们练习了如何判断条件陈述的真值。从讨论的示例中可以看出，仅知道 $P \implies Q$ 成立，并\textbf{不能}推出 $Q \implies P$ 的真假。在之前的例子中，虽然 $P \implies Q$ 为\verb|真|，但 $Q \implies P$ 在一个例子中为\verb|真|，在另一个例子中为\verb|假|。即使已知 $P \implies Q$ 的真值，我们也无法确定 $Q \implies P$ 的真值。这一点非常重要，我们将在下一小节深入讨论。

现在，我们再补充几点关于``$\implies$''的说明。

\begin{itemize}
    \item 请记住，对于数学陈述 $P$ 和 $Q$，语句``$P \implies Q$''本身也是一个完整的数学陈述，具有确定的真值。该真值取决于 $P$ 和 $Q$（按前述规则定义），但并未直接揭示 $P$ 或 $Q$ 的真假。因此，若仅写下：
    \[\text{Blah blah} \implies \text{Yada yada}\]
    我们无从判断你是否断言``Blah blah''或``Yada yada''的真假。对数学家而言，这仅表示：
    \begin{center}
        条件陈述``Blah blah 蕴涵 Yada yada''为\verb|真|。
    \end{center}
    若要进行推理或演绎，则需通过辅助语句明确表达，例如：
    \begin{center}
        $P \implies Q$ 因为 ……

        且 $P$ 成立，因为 ……

        故 $Q$ 成立。
    \end{center}
    如果你以前学过形式逻辑，或在哲学课上见过此类的论证，会认出这种论证称为\textbf{分离规则}。\label{sec:section4.5.6}
    \item \textbf{错误假设}可推出任意结论这一性质可能显得反直觉。这是排中律的直接结果：当 $P$ 为\verb|假|时，整个蕴涵式不能为\verb|假|，故必为\verb|真|。
    \item 请记住，条件陈述可以等价转化为``或''形式：
        \begin{center}
            条件陈述``$P \implies Q$''与``$\neg P \lor Q$''具有相同的真值。
        \end{center}
\end{itemize}

\subsubsection*{逆命题与逆否命题}

让我们给条件陈述的相关变体命名。这些术语将在后续讨论中频繁使用。

\begin{definition}
    设 $P$ 和 $Q$ 为数学陈述。考虑原命题 $P \implies Q$。

    称 $Q \implies P$ 为原命题的\dotuline{逆命题}。

    称 $\neg Q \implies \neg P$ 为原命题的\dotuline{逆否命题}。
\end{definition}

根据前文分析，我们知道\textbf{逆命题}\emph{不一定}具有与原命题相同的真值。下一节将证明：\textbf{逆否命题}总是与原命题保持\emph{相同}的真值（这就是\textbf{逻辑等价}的概念，后文将详细讨论）。

这些术语之所以重要，是因为逆否命题与原命题的\emph{逻辑等价性}提供了一种有效的证明方法——我们很快就会学习这种方法。

逆命题的独特之处在于其真值与原命题无关：即使原命题为\verb|真|，逆命题也可能为\verb|真|或\verb|假|。因此，当证明 $P \implies Q$ 为\verb|真|时，数学家总会自然地追问：``反之是否成立？''这是面对条件陈述时值得思考的问题（事实上，如果你在一个数学家聚会上，当听到有人谈论``如果……那么……''这样的陈述时，问一句``反之是否成立？''会给大家留下深刻印象）。

逆命题也是日常生活中常见的一类逻辑谬误。假设你与朋友辩论 $A \implies B$，对方反驳：``可 $B$ 不蕴含 $A$！你的观点是错误的！''此时你或许会愤慨：``那又如何？我从未主张 $B \implies A$ 成立。我讨论的是 $A \implies B$，你......''（为避免失礼，我们在此打住。）无论对方观点正确与否，逆命题的真值无法推断原命题的真值。请坚定地指出：``你讨论的是逆命题，这与我的主张逻辑上没有必然关联。''

至此，我们已经定义了所有基础逻辑符号并分析了一些案例，是时候更进一步在证明中应用它们了！在此之前，需要简要介绍一下集合运算并完成若干练习。
